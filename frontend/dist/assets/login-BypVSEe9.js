import{u as p,a as f,j as e,c as b,B as N,L as v,l as y,t as r,C as P}from"./index-DEobh6A_.js";import{I as w}from"./input-DYsMVvf_.js";import{u as F,F as I,a as l,b as i,L as o,c,d as L,s as S,z as t}from"./form-BNT2L6qP.js";import{I as k,a as m,b as n,c as M}from"./input-otp-D2Q-U9cW.js";const E=t.object({phoneNumber:t.string().regex(/^\d{10}$/,{message:"Phone number must be 10 digits"}),mPin:t.string().length(6,{message:"MPIN must be exactly 6 digits"}).regex(/^\d+$/,{message:"MPIN must be numeric"})});function O({className:d,...x}){const u=p(),a=F({resolver:S(E),defaultValues:{phoneNumber:"",mPin:""}}),{mutate:h,isPending:g}=f({mutationFn:y,onSuccess:s=>{r.success("Login successful! ðŸŽ‰"),u("/"),console.log("User logged in:",s)},onError:s=>{r(s.message)}}),j=s=>{h(s)};return e.jsx(I,{...a,children:e.jsxs("form",{className:b("flex flex-col gap-6",d),...x,onSubmit:a.handleSubmit(j),children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Login to your account"}),e.jsx("p",{className:"text-muted-foreground text-sm text-balance",children:"Enter your phone number below to login to your account"})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsx(l,{control:a.control,name:"phoneNumber",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx(c,{children:e.jsx(w,{id:"phoneNumber",type:"text",placeholder:"1234567890",...s})})]})}),e.jsx(l,{control:a.control,name:"mPin",render:({field:s})=>e.jsxs(i,{children:[e.jsx(o,{htmlFor:"password",children:"M-PIN"}),e.jsx(c,{children:e.jsxs(k,{maxLength:6,...s,children:[e.jsxs(m,{children:[e.jsx(n,{index:0}),e.jsx(n,{index:1}),e.jsx(n,{index:2})]}),e.jsx(M,{}),e.jsxs(m,{children:[e.jsx(n,{index:3}),e.jsx(n,{index:4}),e.jsx(n,{index:5})]})]})}),e.jsx(L,{})]})}),e.jsx(N,{type:"submit",className:"w-full",children:g?e.jsxs("span",{className:"flex gap-1 items-center",children:[e.jsx("span",{className:"dot w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.2s]"}),e.jsx("span",{className:"dot w-2 h-2 bg-white rounded-full animate-bounce [animation-delay:-0.1s]"}),e.jsx("span",{className:"dot w-2 h-2 bg-white rounded-full animate-bounce"})]}):"Login"})]}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?",e.jsx(v,{to:"/signup",className:"underline underline-offset-4 text-blue-600 hover:text-blue-800",children:"Sign up"})]})]})})}function D(){return e.jsxs("div",{className:"grid min-h-svh lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[e.jsx("div",{className:"flex justify-center gap-2 md:justify-start",children:e.jsxs("a",{className:"flex items-center gap-2 font-medium",children:[e.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-md bg-primary text-primary-foreground",children:e.jsx(P,{className:"size-4"})}),"DineExpress."]})}),e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("div",{className:"w-full max-w-xs",children:e.jsx(O,{})})})]}),e.jsx("div",{className:"relative hidden bg-muted lg:block",children:e.jsx("img",{src:"https://res.cloudinary.com/dkhc0e1fc/image/upload/v1743432900/3896377_abiblp.jpg",alt:"Image",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})}export{D as default};
